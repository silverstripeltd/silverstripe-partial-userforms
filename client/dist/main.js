!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.r(t);var o=document.baseURI,a=document.body.querySelector("form.userform"),u=a.querySelector("button.step-button-save"),i=a.querySelector("button.step-button-next"),l=a.querySelector("a.step-button-share"),c=a.querySelector("[type=submit]"),s=a.querySelectorAll("button.btn-add-more"),d=a.querySelectorAll("a.partial-file-remove"),f=[],p=function(){var e=new FormData;Array.from(a.querySelectorAll("[name]:not([type=submit])")).forEach(function(t){var r=t.getAttribute("name"),o=function(e,t){var r=e.value;if("select"===e.getAttribute("type"))return e[e.selectedIndex].value;if("radio"===e.getAttribute("type")){var n="[name=".concat(t,"]:checked"),o=document.body.querySelector(n);return null!==o?o.value:""}if("checkbox"===e.getAttribute("type")){var a='[name="'.concat(t,'"]:checked'),u=Array.from(document.body.querySelectorAll(a)),i=[];return u.length>0?(u.forEach(function(e){i.push(e.value)}),i):""}return"file"===e.getAttribute("type")&&e.files.length>0?e.files[0]:r}(t,r);e.has(r)||("object"===n(o)&&"file"===t.getAttribute("type")?e.append(r,o):"object"===n(o)?o.forEach(function(t){e.append(r,t)}):e.append(r,o))});var t=new XMLHttpRequest;t.onreadystatechange=function(){1===t.readyState?(u.setAttribute("disabled","disabled"),c.setAttribute("disabled","disabled")):4===t.readyState&&(u.removeAttribute("disabled"),c.removeAttribute("disabled"),a.classList.remove("dirty"),409===t.status&&alert(t.responseText))},f.push(t),t.open("POST","".concat(o).concat("partialuserform/save"),!0),t.send(e)},b=function(e){e.preventDefault();var t=e.target,r=t.parentNode.querySelector("input[type=hidden]");r.value=r.value?parseInt(r.value)+1:1,y(t)},y=function(e){var t=e.parentNode,r=t.parentNode.querySelector(".repeat-destination"),n=t.querySelector("input[type=hidden]"),o=JSON.parse(e.getAttribute("data"));Object.keys(o).forEach(function(e){for(var a=1;a<=parseInt(o[e]);a++){var u="#"+e+"__"+a,i=r.querySelector(u);a<=parseInt(n.value)?i.style.display="block":i.style.display="none",parseInt(n.value)>=parseInt(o[e])&&(t.style.display="none")}})},v=function(e){e.preventDefault();var t=e.target,r=new FormData,n=JSON.parse(t.getAttribute("data-file-remove")),a=t.getAttribute("data-disabled");if(Object.keys(n).forEach(function(e){r.append(e,n[e])}),"disabled"!==a){t.setAttribute("data-disabled","disabled");var u=new XMLHttpRequest;u.onreadystatechange=function(){4===u.readyState&&(409===u.status?alert(u.responseText):t.parentNode.innerHTML="")},f.push(u),u.open("POST","".concat(o,"partialuserform/remove-file"),!0),u.send(r)}else console.log("button disabled")};!function(){if(u&&u.addEventListener("click",p),i&&i.addEventListener("click",p),l&&l.addEventListener("click",p),s.length)for(var e=0;e<s.length;e++)s[e].addEventListener("click",b),y(s[e]);if(d.length)for(var t=0;t<d.length;t++)d[t].addEventListener("click",v)}(),null!==a&&(a._submit=a.submit,a.submit=function(){f.length&&f.forEach(function(e){e.abort()}),a._submit()})}]);